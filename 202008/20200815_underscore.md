# Python에서 underscore  

항상 변수명, 메소드명 기타 부분에서 _ 가 사용되는 부분이 항상 헷갈린다.  
이 부분을 정리해본다.  

### 설명
- underscore: 내부메소드이므로 외부에서는 사용하지 말라는 Recommendation 이다.
  - import * 를 하게 되면 해당 모듈에 _로 시작하는 변수, 함수는 import 되지 않는다.  
  - 따라서 Recommendation이다. 물론 import _something 하면 억지로 사용은 가능하다.  
  - 숫자에 사용하는 경우 : 1_000_000 과 같이 천단위 구분기호(,)대신 사용가능함.  
  - 무의미로 사용하는 경우 : for _ in list 와 같이 _ 로 인덱스나 값 무시할때 사용.  
- dunderscore: __ ( underscore 를 2개 연속을 사용 )  
  - **사용자가 직접 정의해서 사용해서는 안된다**.(특수한 경우 제외하고)  
    - 직접 사용자가 만든 함수가 아니고 컴파일러나 인터프리터가 직접 mangling 한 것이라는 의미이다.  
    - 따라서 __ 를 붙이면 컴파일러가 강제로 맹글링 해버린다.(자동으로)  
    - 그리고 보통 dir 치면 나오는 것들이 많다.  
    - mangling rule : _클래스명__함수명 
    > 혹시 맹글링이란?  
    > 컴파일러가 이름을 강제로 변형하는 것임. 자바의 경우 메소드 오버로딩하면 함수명이 중복나므로 내부적으로 맹글링 해버린다.
  - **매직함수 또는 변수** 를 의미한다.
    - __str__, __init__ 나 __class__ 등이다.
    > 참고로 폴더의 패키지 구분자화일인 __init__.py 도 있다. 이걸 폴더에 넣으면 그 폴더는 소스패키지라는 의미이다.  
    
### TIP
- private 변수처럼 사용하고 싶을때, __로 사용을 한다.  
- __로 시작되는 변수를 사용하게 되면, 자동 mangling 되므로 사용자가 직접 접근하기 어렵다.( 물론 억지로 하자면 가능함. )  
- 아래의 경우 a = Test(); a.__color 하면 오류남. 따라서 특정함수를 사용하는 것이 관례임.( @property )
- 억지로는 mangling rule 에 따라 a._Test__color 이렇게 접근은 가능하다.  
```
class Test:
    def __init__(self):
        self.__color = "red"
    def color(self):
        return self.__color
```
